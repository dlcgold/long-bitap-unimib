#include "utils.h"
#include <stdio.h>


int main(){
  char* str = charge_file("./lorem.txt");
 
  char pattern[] = "abba";
  int l = strlen(pattern);
  char character = 'a';
  
  //int* u_char = charge_u_char(pattern, character);
  int u_int = charge_u_int(pattern, character);
  /* for(int i = 0; i < l; i++){
    printf("%d", u_char[i]);
    }*/
  printf("%d\n", (45>>1) | (0b1<<7));
  //printf("%d", u_int);
  int num = 45;
  int* b = array_bit(num);
  int m[strlen(str)];
  m[0] = 0;
  for(unsigned long int i = 1; i < strlen(str); i++){
    m[i] = ((m[i-1] >> 1) | (0b1 << (l-1))) & charge_u_int(pattern, str[i]); 
  }
  for(int i = 0; i <  floor(log(num) / log(2)) + 1; i++) 
    printf("%d", b[i]); 
  return 0;  
}
